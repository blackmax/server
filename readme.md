##Описание архитектуры

- `/models` - дирректория моделей из базы данных
- `/services` - сервисы, где можно писать логику и использовать в командах
- `/websocket_services/commands` - команды выполняемые для юзера

##Принцип работы

При возникновении события берется обработчик из файла `websocket_services/socket_bus.js`

В каждое событие передается контекст состоящий из основных элементов

`db` - содержит модели `sequilize` хранятся в папке `/models`

`services` - содержит сервисы из соответствующей папки

`data` - содержит данные из запроса пользователя

`socket` - содержит сокет по которому ведется взаимодействие с пользователем

`logger` - логер 

`action` - текущее событие

##События

Любое зарегистрированное событие принимает объект
```js
{
    db,
    services,
    data,
    socket,
    logger,
    action,
}
```

Пример команды
```js
module.exports = async ({services, socket, data}) => {}
```

или

```js
module.exports = async function (ctx) {}
```